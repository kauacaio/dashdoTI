<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Biblioteca do TI</title>
  <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@100;200;300;400;500;600;700;800;900&family=SF+Pro+Text:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    /* === APPLE 2025 DESIGN SYSTEM === */
    :root {
      --dynamic-blue: #007AFF;
      --dynamic-purple: #5856D6;
      --dynamic-green: #34C759;
      --dynamic-orange: #FF9500;
      --dynamic-red: #FF3B30;
      --dynamic-pink: #FF2D92;
      
      --gray-900: #1C1C1E;
      --gray-800: #2C2C2E;
      --gray-700: #3A3A3C;
      --gray-600: #48484A;
      --gray-500: #636366;
      --gray-400: #8E8E93;
      --gray-300: #C7C7CC;
      --gray-200: #D1D1D6;
      --gray-100: #F2F2F7;
      --white: #FFFFFF;
      
      --bg-primary: #FFFFFF;
      --bg-secondary: #F2F2F7;
      --bg-tertiary: #FFFFFF;
      
      --blur-bg: rgba(255, 255, 255, 0.8);
      --card-bg: rgba(255, 255, 255, 0.9);
      
      --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 20px;
      --radius-2xl: 28px;
      
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      --transition-bounce: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    @supports (backdrop-filter: blur(20px)) {
      :root {
        --blur-bg: rgba(255, 255, 255, 0.7);
        --card-bg: rgba(255, 255, 255, 0.8);
      }
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', system-ui, sans-serif;
      background: var(--bg-secondary);
      color: var(--gray-900);
      line-height: 1.6;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* === HEADER ULTRA MODERNO === */
    header {
      position: fixed;
      top: 0;
      width: 100%;
      background: var(--blur-bg);
      backdrop-filter: blur(20px) saturate(180%);
      border-bottom: 0.5px solid var(--gray-200);
      padding: 12px 0;
      z-index: 1000;
      transition: var(--transition);
    }
    
    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo {
      font-weight: 600;
      font-size: 22px;
      color: var(--gray-900);
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
    }
    
    .logo-icon {
      width: 28px;
      height: 28px;
      background: linear-gradient(135deg, var(--dynamic-blue) 0%, var(--dynamic-purple) 100%);
      border-radius: var(--radius-sm);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 14px;
    }
    
    nav ul {
      display: flex;
      list-style: none;
      gap: 32px;
    }
    
    nav ul li a {
      color: var(--gray-900);
      text-decoration: none;
      font-size: 17px;
      font-weight: 400;
      transition: var(--transition);
      position: relative;
    }
    
    nav ul li a:hover {
      color: var(--dynamic-blue);
    }
    
    nav ul li a::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: -6px;
      left: 50%;
      background: var(--dynamic-blue);
      transition: var(--transition);
      transform: translateX(-50%);
    }
    
    nav ul li a:hover::after {
      width: 100%;
    }
    
    .read-toggle {
      background: var(--gray-100);
      border: none;
      border-radius: var(--radius-xl);
      padding: 8px 16px;
      font-size: 15px;
      font-weight: 500;
      color: var(--gray-900);
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .read-toggle:hover {
      background: var(--gray-200);
      transform: scale(1.05);
    }
    
    .read-toggle.active {
      background: var(--dynamic-blue);
      color: white;
    }

    /* === CONTEÚDO PRINCIPAL === */
    .main-content {
      margin-top: 70px;
    }

    /* === HERO MINIMALISTA === */
    .hero {
      background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
      padding: 80px 20px 60px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 30% 20%, rgba(0, 122, 255, 0.1) 0%, transparent 50%),
                  radial-gradient(circle at 70% 80%, rgba(88, 86, 214, 0.1) 0%, transparent 50%);
      pointer-events: none;
    }
    
    .hero-content {
      max-width: 800px;
      margin: 0 auto;
      position: relative;
      z-index: 2;
    }
    
    .hero h1 {
      font-size: clamp(48px, 8vw, 72px);
      font-weight: 700;
      line-height: 1.1;
      margin-bottom: 24px;
      background: linear-gradient(135deg, var(--gray-900) 0%, var(--gray-600) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .hero p {
      font-size: 22px;
      font-weight: 400;
      color: var(--gray-600);
      margin-bottom: 40px;
      line-height: 1.5;
    }
    
    .hero-actions {
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
    }
    
    .btn-primary {
      background: var(--dynamic-blue);
      color: white;
      padding: 16px 32px;
      border-radius: var(--radius-xl);
      font-size: 17px;
      font-weight: 600;
      text-decoration: none;
      border: none;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: var(--shadow-md);
    }
    
    .btn-primary:hover {
      background: #0056b3;
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }
    
    .btn-secondary {
      background: transparent;
      color: var(--gray-900);
      padding: 16px 32px;
      border-radius: var(--radius-xl);
      font-size: 17px;
      font-weight: 600;
      text-decoration: none;
      border: 2px solid var(--gray-300);
      cursor: pointer;
      transition: var(--transition);
    }
    
    .btn-secondary:hover {
      border-color: var(--gray-400);
      transform: translateY(-2px);
    }

    /* === SEÇÕES MODERNAS === */
    .section {
      padding: 80px 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .section-header {
      text-align: center;
      margin-bottom: 60px;
    }
    
    .section-title {
      font-size: 40px;
      font-weight: 700;
      color: var(--gray-900);
      margin-bottom: 16px;
      line-height: 1.2;
    }
    
    .section-subtitle {
      font-size: 20px;
      color: var(--gray-600);
      font-weight: 400;
      max-width: 600px;
      margin: 0 auto;
    }

    /* === GRID DE CARDS ULTRA LIMPO === */
    .books-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 24px;
      margin-bottom: 40px;
    }
    
    .book-card {
      background: var(--card-bg);
      backdrop-filter: blur(20px) saturate(180%);
      border-radius: var(--radius-2xl);
      overflow: hidden;
      transition: var(--transition);
      cursor: pointer;
      border: 1px solid var(--gray-200);
      position: relative;
    }
    
    .book-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: var(--shadow-xl);
      border-color: var(--gray-300);
    }
    
    .book-cover {
      width: 100%;
      height: 300px;
      overflow: hidden;
      border-radius: var(--radius-lg);
      position: relative;
      background-color: var(--gray-100);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .book-cover::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.1) 100%);
    }
    
    .book-cover img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: var(--radius-lg);
      display: block;
    }
    
    .book-info {
      padding: 24px;
    }
    
    .book-title {
      font-size: 20px;
      font-weight: 600;
      color: var(--gray-900);
      margin-bottom: 8px;
    }
    
    .book-author {
      font-size: 15px;
      color: var(--dynamic-blue);
      font-weight: 500;
      margin-bottom: 12px;
    }
    
    .book-description {
      font-size: 16px;
      color: var(--gray-600);
      line-height: 1.5;
      margin-bottom: 16px;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .book-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      font-size: 14px;
      color: var(--gray-500);
    }
    
    .book-action {
      width: 100%;
      background: var(--gray-900);
      color: white;
      border: none;
      border-radius: var(--radius-lg);
      padding: 14px 20px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .book-action:hover {
      background: var(--gray-700);
      transform: translateY(-2px);
    }
    
    .book-action:active {
      transform: translateY(0);
    }

    /* Placeholder para imagens quebradas */
    .book-cover.placeholder {
      background: linear-gradient(135deg, var(--gray-200) 0%, var(--gray-300) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--gray-500);
      font-size: 14px;
      font-weight: 500;
    }

    /* === MODAL APPLE STYLE === */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(20px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .modal.active {
      opacity: 1;
    }
    
    .modal-content {
      width: 95%;
      height: 90%;
      max-width: 1200px;
      background: white;
      border-radius: var(--radius-2xl);
      overflow: hidden;
      position: relative;
      display: flex;
      flex-direction: column;
      box-shadow: var(--shadow-xl);
      transform: scale(0.9);
      transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }
    
    .modal.active .modal-content {
      transform: scale(1);
    }
    
    .modal-header {
      padding: 20px 24px;
      border-bottom: 1px solid var(--gray-200);
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--blur-bg);
      backdrop-filter: blur(20px);
    }
    
    .modal-title {
      font-size: 20px;
      font-weight: 600;
      color: var(--gray-900);
    }
    
    .close-btn {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: var(--gray-100);
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
      color: var(--gray-600);
    }
    
    .close-btn:hover {
      background: var(--gray-200);
      transform: scale(1.1);
    }
    
    .modal-body {
      flex: 1;
      position: relative;
    }
    
    .modal-body iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    
    /* === BACK TO TOP === */
    .back-to-top {
      position: fixed;
      bottom: 32px;
      right: 32px;
      width: 56px;
      height: 56px;
      background: var(--dynamic-blue);
      color: white;
      border: none;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
      z-index: 100;
    }
    
    .back-to-top.visible {
      opacity: 1;
      visibility: visible;
    }
    
    .back-to-top:hover {
      transform: translateY(-4px) scale(1.1);
      box-shadow: var(--shadow-xl);
    }
    
    /* === MODO LEITURA === */
    body.read-mode {
      background: #F8F9FA;
      color: #333;
      font-size: 18px;
      line-height: 1.8;
    }
    
    body.read-mode .hero,
    body.read-mode .hero::before {
      display: none;
    }
    
    body.read-mode .book-card {
      background: white;
      border: 1px solid #E5E5E7;
      box-shadow: none;
    }
    
    body.read-mode .book-card:hover {
      transform: none;
      box-shadow: var(--shadow-sm);
    }
    
    /* === RESPONSIVIDADE === */
    @media (max-width: 768px) {
      .header-content {
        padding: 0 16px;
      }
      
      nav ul {
        display: none;
      }
      
      .hero {
        padding: 60px 16px 40px;
      }
      
      .hero h1 {
        font-size: 36px;
      }
      
      .hero p {
        font-size: 18px;
      }
      
      .hero-actions {
        flex-direction: column;
        align-items: center;
      }
      
      .btn-primary,
      .btn-secondary {
        width: 100%;
        max-width: 280px;
      }
      
      .section {
        padding: 60px 16px;
      }
      
      .section-title {
        font-size: 32px;
      }
      
      .books-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .book-card {
        margin: 0;
      }
      
      .modal-content {
        width: 98%;
        height: 95%;
        margin: 1%;
      }
    }
    
    @media (max-width: 480px) {
      .book-info {
        padding: 20px;
      }
      
      .hero h1 {
        font-size: 28px;
      }
      
      .section-title {
        font-size: 28px;
      }
    }
    
    /* === ANIMAÇÕES APPLE === */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .book-card {
      animation: fadeInUp 0.6s ease forwards;
    }
    
    .book-card:nth-child(2) { animation-delay: 0.1s; }
    .book-card:nth-child(3) { animation-delay: 0.2s; }
    .book-card:nth-child(4) { animation-delay: 0.3s; }
    .book-card:nth-child(5) { animation-delay: 0.4s; }
    .book-card:nth-child(6) { animation-delay: 0.5s; }
    
    /* === SCROLL COMPORTAMENTO === */
    html {
      scroll-behavior: smooth;
    }
    
    /* === LOADING STATE === */
    .loading {
      opacity: 0.7;
      pointer-events: none;
    }
    
    /* === FOCUS STATES === */
    button:focus,
    a:focus {
      outline: 2px solid var(--dynamic-blue);
      outline-offset: 2px;
    }
  </style>
</head>
<body>

<header>
  <div class="header-content">
    <a href="#" class="logo">
      <div class="logo-icon">
        <i class="fas fa-book"></i>
      </div>
      Biblioteca 
    </a>
    <nav>
      <ul>
        <li><a href="dashboard.html">Início</a></li>
        <li><a href="#featured">Destaques</a></li>
        <li><a href="#programming">Programação</a></li>
        <li><a href="#categories">Categorias</a></li>
      </ul>
    </nav>
    <button class="read-toggle" id="readToggle">
      <i class="fas fa-book-reader"></i>
      Modo de Leitura
    </button>
  </div>
</header>

<main class="main-content">
  <!-- HERO -->
  <section class="hero" id="home">
    <div class="hero-content">
      <h1>Conhecimento ao seu alcance</h1>
      <p>Descubra recursos de programação de ponta, tutoriais e documentação em nossa biblioteca digital selecionada.</p>
      <div class="hero-actions">
        <a href="#featured" class="btn-primary">Explorar Biblioteca</a>
        <a href="#programming" class="btn-secondary">Navegar por Categorias</a>
      </div>
    </div>
  </section>

  <!-- FEATURED -->
  <section class="section" id="featured">
    <div class="section-header">
      <h2 class="section-title">Destaques</h2>
      <p class="section-subtitle">Recursos selecionados por especialistas da indústria e líderes de pensamento</p>
    </div>
    <div class="books-grid">
      <div class="book-card">
        <div class="book-cover placeholder">
          <i class="fas fa-book fa-3x" style="color: var(--gray-400);"></i>
        </div>
        <div class="book-info">
          <h3 class="book-title">Guia Completo de Python</h3>
          <p class="book-author">John Doe</p>
          <p class="book-description">Domine Python desde os conceitos básicos até os avançados com exemplos práticos e projetos reais.</p>
          <div class="book-meta">
            <span>320 páginas</span>
            <span>Edição 2024</span>
          </div>
          <button class="book-action" data-file="https://docs.google.com/document/d/1zSZyVm2Zu8RXwnOMJ57Uj81KNEUAzxuMqZtpZEpHvkk/edit?usp=sharing">Abrir Recurso</button>
        </div>
      </div>
      <div class="book-card">
        <div class="book-cover placeholder">
          <i class="fas fa-code fa-3x" style="color: var(--gray-400);"></i>
        </div>
        <div class="book-info">
          <h3 class="book-title">JavaScript Moderno</h3>
          <p class="book-author">Jane Smith</p>
          <p class="book-description">Recursos do ECMAScript 2024+ com padrões prontos para produção e melhores práticas.</p>
          <div class="book-meta">
            <span>280 páginas</span>
            <span>Edição 2024</span>
          </div>
          <button class="book-action" data-file="https://www.orimi.com/pdf-test.pdf">Abrir Recurso</button>
        </div>
      </div>
      <div class="book-card">
        <div class="book-cover placeholder">
          <i class="fas fa-laptop-code fa-3x" style="color: var(--gray-400);"></i>
        </div>
        <div class="book-info">
          <h3 class="book-title">Desenvolvimento Full Stack</h3>
          <p class="book-author">Maria Silva</p>
          <p class="book-description">Desenvolvimento de aplicações de ponta a ponta, do frontend à infraestrutura backend.</p>
          <div class="book-meta">
            <span>450 páginas</span>
            <span>Edição 2024</span>
          </div>
          <button class="book-action" data-file="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf">Abrir Recurso</button>
        </div>
      </div>
    </div>
  </section>

  <!-- PROGRAMMING -->
  <section class="section" id="programming">
    <div class="section-header">
      <h2 class="section-title">Programação</h2>
      <p class="section-subtitle">Conceitos fundamentais de programação e técnicas avançadas</p>
    </div>
    <div class="books-grid">
      <div class="book-card">
        <div class="book-cover placeholder">
          <i class="fas fa-sitemap fa-3x" style="color: var(--gray-400);"></i>
        </div>
        <div class="book-info">
          <h3 class="book-title">Estruturas de Dados e Algoritmos</h3>
          <p class="book-author">Alan Turing</p>
          <p class="book-description">Conceitos fundamentais de listas, árvores e grafos com explicações claras.</p>
          <div class="book-meta">
            <span>250 páginas</span>
            <span>Edição 2024</span>
          </div>
          <button class="book-action" data-file="https://gahp.net/wp-content/uploads/2017/09/sample.pdf">Abrir Recurso</button>
        </div>
      </div>
      <div class="book-card">
        <div class="book-cover placeholder">
          <i class="fab fa-html5 fa-3x" style="color: var(--gray-400);"></i>
        </div>
        <div class="book-info">
          <h3 class="book-title">HTML5 e CSS3 Avançados</h3>
          <p class="book-author">Pedro Alves</p>
          <p class="book-description">Técnicas modernas de desenvolvimento frontend e padrões de design responsivo.</p>
          <div class="book-meta">
            <span>300 páginas</span>
            <span>Edição 2024</span>
          </div>
          <button class="book-action" data-file="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf">Abrir Recurso</button>
        </div>
      </div>
      <div class="book-card">
        <div class="book-cover placeholder">
          <i class="fab fa-java fa-3x" style="color: var(--gray-400);"></i>
        </div>
        <div class="book-info">
          <h3 class="book-title">Fundamentos de Java</h3>
          <p class="book-author">Ana Costa</p>
          <p class="book-description">Aprenda Java do zero com projetos práticos e exemplos reais.</p>
          <div class="book-meta">
            <span>350 páginas</span>
            <span>Edição 2024</span>
          </div>
          <button class="book-action" data-file="https://www.orimi.com/pdf-test.pdf">Abrir Recurso</button>
        </div>
      </div>
    </div>
  </section>

  <!-- CATEGORIES -->
  <section class="section" id="categories">
    <div class="section-header">
      <h2 class="section-title">Tópicos Especializados</h2>
      <p class="section-subtitle">Tópicos avançados para áreas de desenvolvimento especializadas</p>
    </div>
    <div class="books-grid">
      <div class="book-card">
        <div class="book-cover placeholder">
          <i class="fas fa-mobile-alt fa-3x" style="color: var(--gray-400);"></i>
        </div>
        <div class="book-info">
          <h3 class="book-title">Desenvolvimento Mobile</h3>
          <p class="book-author">Lucas Ferreira</p>
          <p class="book-description">Desenvolvimento de aplicativos iOS e Android com frameworks modernos e melhores práticas.</p>
          <div class="book-meta">
            <span>400 páginas</span>
            <span>Edição 2024</span>
          </div>
          <button class="book-action" data-file="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf">Abrir Recurso</button>
        </div>
      </div>
      <div class="book-card">
        <div class="book-cover placeholder">
          <i class="fas fa-cloud fa-3x" style="color: var(--gray-400);"></i>
        </div>
        <div class="book-info">
          <h3 class="book-title">Computação em Nuvem</h3>
          <p class="book-author">Sofia Martins</p>
          <p class="book-description">AWS, Azure e Google Cloud com padrões de arquitetura escaláveis.</p>
          <div class="book-meta">
            <span>360 páginas</span>
            <span>Edição 2024</span>
          </div>
          <button class="book-action" data-file="https://www.orimi.com/pdf-test.pdf">Abrir Recurso</button>
        </div>
      </div>
      <div class="book-card">
        <div class="book-cover placeholder">
          <i class="fas fa-shield-alt fa-3x" style="color: var(--gray-400);"></i>
        </div>
        <div class="book-info">
          <h3 class="book-title">Cybersecurity</h3>
          <p class="book-author">Marco António</p>
          <p class="book-description">Proteja sistemas contra ameaças digitais modernas com técnicas de segurança avançadas.</p>
          <div class="book-meta">
            <span>420 páginas</span>
            <span>Edição 2024</span>
          </div>
          <button class="book-action" data-file="https://gahp.net/wp-content/uploads/2017/09/sample.pdf">Abrir Recurso</button>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- MODAL -->
<div class="modal" id="docModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title" id="docTitle">Document</h3>
      <button class="close-btn" id="closeModal">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="modal-body">
      <iframe id="docViewer"></iframe>
    </div>
  </div>
</div>

<!-- BACK TO TOP -->
<button class="back-to-top" id="backToTop">
  <i class="fas fa-arrow-up"></i>
</button>

<script>
// VARIÁVEIS GLOBAIS
const modal = document.getElementById('docModal');
const docViewer = document.getElementById('docViewer');
const docTitle = document.getElementById('docTitle');
const closeModal = document.getElementById('closeModal');
const backToTop = document.getElementById('backToTop');
const readToggle = document.getElementById('readToggle');

// MODAL FUNCTIONALITY
function openModal(title, fileUrl) {
  docTitle.textContent = title;
  
  // Corrigido: Verificar se é Google Docs ou PDF normal
  if (fileUrl.includes('docs.google.com')) {
    // Para Google Docs - usar visualização
    const fileId = extractFileId(fileUrl);
    docViewer.src = `https://docs.google.com/document/d/${fileId}/preview`;
  } else {
    // Para PDFs normais - usar visualizador do Google
    docViewer.src = `https://docs.google.com/gview?url=${encodeURIComponent(fileUrl)}&embedded=true`;
  }
  
  modal.style.display = 'flex';
  document.body.style.overflow = 'hidden';
  
  // Animação de entrada
  requestAnimationFrame(() => {
    modal.classList.add('active');
  });
}

// Função corrigida para extrair o ID do arquivo do Google Drive
function extractFileId(url) {
  // Para links do Google Docs
  const docsMatch = url.match(/\/d\/([^\/]+)/);
  if (docsMatch) return docsMatch[1];
  
  // Para links gerais do Google Drive
  const driveMatch = url.match(/[-\w]{25,}/);
  return driveMatch ? driveMatch[0] : '';
}

function closeModalFunc() {
  modal.classList.remove('active');
  setTimeout(() => {
    modal.style.display = 'none';
    docViewer.src = '';
    document.body.style.overflow = 'auto';
  }, 300);
}

// EVENT LISTENERS PARA MODAL
document.querySelectorAll('.book-action').forEach(btn => {
  btn.addEventListener('click', (e) => {
    e.preventDefault();
    const title = btn.closest('.book-info').querySelector('.book-title').textContent;
    const fileUrl = btn.dataset.file;
    openModal(title, fileUrl);
  });
});

closeModal.addEventListener('click', closeModalFunc);

modal.addEventListener('click', (e) => {
  if (e.target === modal) {
    closeModalFunc();
  }
});

// ESC para fechar modal
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape' && modal.style.display === 'flex') {
    closeModalFunc();
  }
});

// READING MODE TOGGLE
readToggle.addEventListener('click', () => {
  document.body.classList.toggle('read-mode');
  const isReadMode = document.body.classList.contains('read-mode');
  
  readToggle.classList.toggle('active', isReadMode);
  readToggle.innerHTML = isReadMode 
    ? '<i class="fas fa-times"></i> Sair do Modo Leitura'
    : '<i class="fas fa-book-reader"></i> Modo de Leitura';
});

// BACK TO TOP FUNCTIONALITY
window.addEventListener('scroll', () => {
  const scrolled = window.pageYOffset;
  const threshold = 300;
  
  if (scrolled > threshold) {
    backToTop.classList.add('visible');
  } else {
    backToTop.classList.remove('visible');
  }
  
  // Header blur effect on scroll
  const header = document.querySelector('header');
  if (scrolled > 50) {
    header.style.background = 'rgba(255, 255, 255, 0.9)';
  } else {
    header.style.background = 'rgba(255, 255, 255, 0.8)';
  }
});

backToTop.addEventListener('click', () => {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
});

// SMOOTH SCROLLING FOR NAVIGATION
document.querySelectorAll('nav a[href^="#"], .btn-primary[href^="#"], .btn-secondary[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', function (e) {
    e.preventDefault();
    const targetId = this.getAttribute('href');
    const targetSection = document.querySelector(targetId);
    
    if (targetSection) {
      const headerHeight = document.querySelector('header').offsetHeight;
      const targetPosition = targetSection.offsetTop - headerHeight - 20;
      
      window.scrollTo({
        top: targetPosition,
        behavior: 'smooth'
      });
    }
  });
});

// INTERSECTION OBSERVER FOR ANIMATIONS
const observerOptions = {
  threshold: 0.1,
  rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.style.opacity = '1';
      entry.target.style.transform = 'translateY(0)';
    }
  });
}, observerOptions);

// Observar todos os cards
document.querySelectorAll('.book-card').forEach(card => {
  card.style.opacity = '0';
  card.style.transform = 'translateY(30px)';
  card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
  observer.observe(card);
});

// LOADING STATES
document.querySelectorAll('.book-action').forEach(btn => {
  btn.addEventListener('click', function() {
    const originalText = this.textContent;
    this.classList.add('loading');
    this.textContent = 'Carregando...';
    
    setTimeout(() => {
      this.classList.remove('loading');
      this.textContent = originalText;
    }, 3000);
  });
});

// INICIALIZAÇÃO
document.addEventListener('DOMContentLoaded', () => {
  console.log('Biblioteca TI inicializada');
  
  // Animação inicial do hero
  const hero = document.querySelector('.hero-content');
  hero.style.opacity = '0';
  hero.style.transform = 'translateY(30px)';
  
  setTimeout(() => {
    hero.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
    hero.style.opacity = '1';
    hero.style.transform = 'translateY(0)';
  }, 100);
});

// ERROR HANDLING para imagens quebradas
document.querySelectorAll('.book-cover img').forEach(img => {
  img.addEventListener('error', function() {
    this.style.display = 'none';
    const placeholder = document.createElement('div');
    placeholder.className = 'book-cover placeholder';
    placeholder.innerHTML = '<i class="fas fa-book fa-3x" style="color: var(--gray-400);"></i>';
    this.parentNode.replaceChild(placeholder, this);
  });
});
</script>

</body>
</html>